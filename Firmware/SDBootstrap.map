
Se asignan símbolos comunes
Símbolo común       tamaño            fichero

SDHCtype            0x4               zpu_obj/spi.o
SPI_R1              0x6               zpu_obj/spi.o

Configuración de la Memoria

Nombre           Origen             Longitud           Atributos
BOOT             0x40000000         0x00000060         xr
TRAP             0x40000060         0x00000000         xr
CODE             0x40000060         0x0000ffa8         xr
EXRAM            0x007ff000         0x00001000         rw
*default*        0x00000000         0xffffffff

Guión del enlazador y mapa de memoria

LOAD zpu_obj/mincrt0.o
LOAD zpu_obj/premain.o
LOAD zpu_obj/small_printf.o
LOAD zpu_obj/uart.o
LOAD zpu_obj/spi.o
LOAD zpu_obj/zpio.o
LOAD zpu_obj/fat_write.o
LOAD zpu_obj/fat_table.o
LOAD zpu_obj/fat_string.o
LOAD zpu_obj/fat_misc.o
LOAD zpu_obj/fat_format.o
LOAD zpu_obj/fat_filelib.o
LOAD zpu_obj/fat_cache.o
LOAD zpu_obj/fat_access.o
LOAD zpu_obj/string.o
LOAD zpu_obj/boot.o
                0x00000000                . = 0x0

.fixed_vectors  0x40000000       0x60
 *(.fixed_vectors)
 .fixed_vectors
                0x40000000       0x60 zpu_obj/mincrt0.o
                0x40000013                _boot
                0x40000000                _start
                0x40000020                _zpu_interrupt_vector
                0x40000018                _inthandler_fptr
                0x4000000c                _break

.text           0x40000060     0x3360
                0x40000060                . = ALIGN (0x4)
 *(.text)
 .text          0x40000060       0x80 zpu_obj/mincrt0.o
                0x40000075                _loadb
                0x4000008a                _storeh
                0x40000060                _loadh
                0x400000b7                _storeb
 .text          0x400000e0       0x25 zpu_obj/premain.o
                                 0x2b (tamaño antes de la relajación)
                0x400000e0                _premain
 .text          0x40000105      0x19c zpu_obj/small_printf.o
                                0x1e5 (tamaño antes de la relajación)
                0x40000163                small_printf
 .text          0x400002a1      0x189 zpu_obj/uart.o
                                0x1ce (tamaño antes de la relajación)
                0x400002a1                putchar
                0x400002c3                puts
                0x4000032e                scan
                0x400003be                get_number
                0x4000030b                getserial
 .text          0x4000042a      0x44f zpu_obj/spi.o
                                0x4ed (tamaño antes de la relajación)
                0x40000765                sd_write_sector
                0x4000042a                SPI_PUMP
                0x4000082a                media_read
                0x400005b7                is_sdhc
                0x400006b7                spi_init
                0x400004ef                spi_spin
                0x4000076d                sd_read_sector
                0x40000508                wait_initV2
                0x4000085c                media_write
                0x40000574                wait_init
                0x4000047a                cmd_write
 .text          0x40000879       0x24 zpu_obj/zpio.o
                                 0x27 (tamaño antes de la relajación)
                0x40000879                ioWrite
                0x4000088c                ioRead
                0x40000895                millis
 .text          0x4000089d      0x452 zpu_obj/fat_table.o
                                0x4de (tamaño antes de la relajación)
                0x4000089d                fatfs_fat_init
                0x40000a25                fatfs_fat_purge
                0x40000c19                fatfs_count_free_clusters
                0x40000b4b                fatfs_set_fs_info_next_free_cluster
                0x40000a72                fatfs_find_next_cluster
 .text          0x40000cef      0x714 zpu_obj/fat_string.o
                                0x83d (tamaño antes de la relajación)
                0x40001042                fatfs_compare_names
                0x40001262                fatfs_get_extension
                0x40000cef                fatfs_total_path_levels
                0x40000eab                fatfs_split_path
                0x400011fa                fatfs_get_sfn_display_name
                0x400012fb                fatfs_create_path_string
                0x4000118b                fatfs_string_ends_with_slash
                0x40000d9f                fatfs_get_substring
 .text          0x40001403       0xd2 zpu_obj/fat_misc.o
                                 0xf2 (tamaño antes de la relajación)
                0x400014ac                fatfs_entry_is_file
                0x40001483                fatfs_entry_is_dir
                0x40001416                fatfs_entry_lfn_text
                0x40001403                fatfs_lfn_cache_init
                0x4000143f                fatfs_entry_sfn_only
 .text          0x400014d5      0xd4a zpu_obj/fat_filelib.o
                                0xf94 (tamaño antes de la relajación)
                0x400019ca                fl_init
                0x40001edd                fl_fseek
                0x4000206e                fl_opendir
                0x40001a00                fl_attach_locks
                0x40002152                fl_listdirectory
                0x40001fff                fl_ftell
                0x40002107                fl_readdir
                0x40001e24                fl_fgetc
                0x40001fc4                fl_fgetpos
                0x40001a7f                fl_shutdown
                0x40001cea                fl_fread
                0x40002066                fl_closedir
                0x40001c73                fl_fclose
                0x40001aba                fl_fopen
                0x40001c6b                fl_fflush
                0x4000201e                fl_feof
                0x40001a18                fl_attach_media
                0x400021f5                fl_is_dir
                0x40001e6b                fl_fgets
 .text          0x4000221f       0x18 zpu_obj/fat_cache.o
                                 0x1b (tamaño antes de la relajación)
                0x4000222f                fatfs_cache_set_next_cluster
                0x4000221f                fatfs_cache_init
                0x40002227                fatfs_cache_get_next_cluster
 .text          0x40002237      0xa3b zpu_obj/fat_access.o
                                0xb1a (tamaño antes de la relajación)
                0x40002237                fatfs_init
                0x400027ab                fatfs_read_sector
                0x40002a5d                fatfs_list_directory_next
                0x400026b8                fatfs_sector_write
                0x400026a1                fatfs_sector_read
                0x400028df                fatfs_get_root_cluster
                0x40002a41                fatfs_list_directory_start
                0x400026cf                fatfs_sector_reader
                0x400028f2                fatfs_get_file_entry
                0x40002863                fatfs_show_details
                0x4000264a                fatfs_lba_of_cluster
 .text          0x40002c72      0x497 zpu_obj/string.o
                                0x53c (tamaño antes de la relajación)
                0x40002ca8                strcpy
                0x40002f9d                memmove
                0x40002efd                memcpy
                0x40002eb4                strrchr
                0x40002d49                strcat
                0x40003029                memchr
                0x40002e29                strncmp
                0x40002cd8                strncpy
                0x40002fd9                memcmp
                0x40002d88                strncat
                0x40003070                memset
                0x40002ddd                strcmp
                0x400030a2                next_word
                0x40002c72                strlen
                0x40002e88                strchr
 .text          0x40003109      0x2b4 zpu_obj/boot.o
                                0x2ee (tamaño antes de la relajación)
                0x400031a8                __udivsi3
                0x400031bb                __umodsi3
                0x400031ce                main
                0x40003155                __divsi3
                0x40003109                __modsi3
 *(.text.*)
                0x400033c0                . = ALIGN (0x4)
 *fill*         0x400033bd        0x3 00
 *fill*         0x400033c0        0x0 00
 *fill*         0x400033c0        0x0 00
 *fill*         0x400033c0        0x0 00
                0x400033c0                __ctors_start__ = .
 *(.ctors)
 *(.ctors.*)
                0x400033c0                __ctors_end__ = .
                0x400033c0                . = ALIGN (0x4)
                0x400033c0                __dtors_start__ = .
 *(.dtors)
 *(.dtors.*)
                0x400033c0                __dtors_end__ = .

.rodata         0x400033c0      0x264
 *(.rodata)
 .rodata        0x400033c0       0x10 zpu_obj/mincrt0.o
 *(.rodata.*)
 .rodata.str1.4
                0x400033d0        0x4 zpu_obj/uart.o
 .rodata.str1.4
                0x400033d4       0x60 zpu_obj/spi.o
 .rodata.str1.4
                0x40003434       0x50 zpu_obj/fat_filelib.o
 .rodata.str1.4
                0x40003484       0x9c zpu_obj/fat_access.o
 .rodata.str1.4
                0x40003520      0x103 zpu_obj/boot.o
                                0x104 (tamaño antes de la relajación)
                0x40003624                . = ALIGN (0x4)
 *fill*         0x40003623        0x1 00
 *fill*         0x40003624        0x0 00
 *fill*         0x40003624        0x0 00
 *fill*         0x40003624        0x0 00
 *fill*         0x40003624        0x0 00
                0x40003624                _romend = .

.data           0x40000060        0x0
                0x40000060                _data = .
 *(.data)
 *(.data.*)
                0x40000060                . = ALIGN (0x4)

.bss            0x007ff000      0x970
                0x007ff000                __bss_start = .
                0x007ff000                __bss_start__ = .
 *(.bss)
 .bss           0x007ff000       0x10 zpu_obj/mincrt0.o
                0x007ff000                _memreg
 .bss           0x007ff010       0x90 zpu_obj/small_printf.o
 .bss           0x007ff0a0      0x8c4 zpu_obj/fat_filelib.o
 *(.bss.*)
 *(COMMON)
 COMMON         0x007ff964        0xa zpu_obj/spi.o
                                  0x0 (tamaño antes de la relajación)
                0x007ff964                SDHCtype
                0x007ff968                SPI_R1
                0x007ff970                . = ALIGN (0x4)
 *fill*         0x007ff96e        0x2 00
 *fill*         0x007ff970        0x0 00
 *fill*         0x007ff970        0x0 00
 *fill*         0x007ff970        0x0 00
 *fill*         0x007ff970        0x0 00
                0x007ff970                __bss_end__ = .

.debug_loc
 *(.debug_loc)

.debug_abbrev
 *(.debug_abbrev)

.debug_str
 *(.debug_str)

.debug_info
 *(.debug_info)

.debug_line
 *(.debug_line)

.debug_frame
 *(.debug_frame)

.debug_pubnames
 *(.debug_pubnames)

.debug_aranges
 *(.debug_aranges)

.comment        0x00000000       0xfc
 *(.comment)
 .comment       0x00000000       0x12 zpu_obj/small_printf.o
 .comment       0x00000012       0x12 zpu_obj/uart.o
 .comment       0x00000024       0x12 zpu_obj/spi.o
 .comment       0x00000036       0x12 zpu_obj/zpio.o
 .comment       0x00000048       0x12 zpu_obj/fat_write.o
 .comment       0x0000005a       0x12 zpu_obj/fat_table.o
 .comment       0x0000006c       0x12 zpu_obj/fat_string.o
 .comment       0x0000007e       0x12 zpu_obj/fat_misc.o
 .comment       0x00000090       0x12 zpu_obj/fat_format.o
 .comment       0x000000a2       0x12 zpu_obj/fat_filelib.o
 .comment       0x000000b4       0x12 zpu_obj/fat_cache.o
 .comment       0x000000c6       0x12 zpu_obj/fat_access.o
 .comment       0x000000d8       0x12 zpu_obj/string.o
 .comment       0x000000ea       0x12 zpu_obj/boot.o
OUTPUT(SDBootstrap.elf elf32-zpu)
